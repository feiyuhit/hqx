<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>index</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<style type="text/css">
body {
  font-family: "Helvetica Neue", Helvetica;
  width: 90%;
  font-weight: 200;
  letter-spacing: 1px;
  margin: 25px auto 0 auto;
  background: rgb(234, 235, 235);
  color: rgb(25, 25, 25);
}

div,
p {
  margin: 0 auto;
}

p {
  color: rgb(125, 125, 125);
  font-size: 0.85rem;
  text-align: center;
  margin-bottom: 17px;
}

div {
  width: 50%;
}

.blast {
  display: inline-block;
  color: red;
  opacity: 0;
}

.blast:nth-child(odd) {
  color: blue;
}
</style>
<body>
    <div id="code">
    	<p>别着急，我一个一个字出来</p>
    	<p>猜猜我的名字</p>
    	<p>提示一下，嗯嗯嗯，就不告诉你</p>
    </div>
</body>

<script src="../js/jquery.min.js"></script>
<script src="../js/jquery.blast.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/velocity/0.11.6/jquery.velocity.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/velocity/0.11.6/velocity.ui.js'></script>
<script type="text/javascript">
$(function(){
	// $("p")
	//   .blast({ delimiter: "letter" })
	//   .velocity("transition.shrinkIn",
	//      { 
	//        display: null,
	//        stagger: 35,
	//        duration: 500,
	//        complete: function() {
	//          // Reverse blast
	//          $("p").blast(false);
	//        } 
	//      }
	//   );

});
  var $chars = $("#code").blast({ delimiter: "character" });
  $chars.css("display", "none");
  play($chars);
            function play($chars) {
                var total = $chars.length;
                function _display(i) {
                    if(i === total) {
                        return;
                    }
                    var $curBlock = $($chars[i]).closest("[block-id]");
                    var blockId = $curBlock.attr("block-id");
                    if(blockId && blockId != prevBlockId) {
                        prevBlockId = blockId;
                        var delay = $curBlock.attr("delay") ? parseInt($curBlock.attr("delay")) : DEFAULT_DELAY;
                        setTimeout(function() {
                            _display(i);
                        }, delay);
                        return;
                    }
                    $($chars[i]).css("display", "inline-block");

                    // var scrollTop = content.scrollHeight - content.clientHeight;
                    // if(scrollTop > 0) {
                    //     $content.scrollTop(scrollTop);
                    // }

                    var val = Math.floor(i / total * 100);
                    // $progressBar.attr("value", val);
                    // $progressVal.text(val);

                    var speed = $curBlock.attr("speed") ? parseInt($curBlock.attr("speed")) : DEFAULT_SPEED;
                    if(speed === 0) {
                        _display(i + 1);
                    } else {
                        setTimeout(function() {
                            _display(i+1);
                        }, speed);
                    }
                }
                _display(0);
            }



</script>
</html>